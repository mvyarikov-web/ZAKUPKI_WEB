# Дата и время пуша (MSK): 02.10.2025 10:56:13
# Git commit hash: 327f4a0376f708ea7711129c3f81d6db2c114b16
# Постановка

В проекте ZAKUPKI_WEB обнаружена некорректная работа логики светофоров для файлов и папок при поиске. Требуется реализовать и протестировать логику отображения статусов (цветов) светофоров согласно строгим правилам для файлов и папок, описанным ниже. Необходимо скорректировать код во всех соответствующих файлах проекта, кроме описания инкрементов, и убедиться, что все тесты покрывают каждый случай из спецификации.

# Спецификация

## Логика светофоров для файлов

1. **Серый светофор** — файл только загружен, поиск не производился или поиск сброшен (выбран пустой поисковый запрос и нажата кнопка поиска). Если хоть раз была нажата кнопка поиска с непустым запросом, после этого светофор на файле серым быть не может.
2. **Зеленый светофор** — файл удовлетворяет критериям прямого или обратного поиска.
3. **Желтый светофор** — файл не удовлетворяет критериям поиска и является проиндексированным (содержит символов больше нуля).
4. **Красный светофор** — файл не проиндексирован, светофор не меняет цвет в процессе работы с поиском.

## Логика светофоров для папок

1. **Серый светофор** — при первой загрузке папки, до начала поиска (до первого нажатия кнопки поиск с заполненным поисковым запросом), либо при сбросе поиска (когда поиск пустой и нажата кнопка поиск).
2. **Зеленый светофор** — если после поиска в папке есть хотя бы один файл, в котором поиск завершился успешно (файл отмечен зеленым светофором).
3. **Желтый светофор** — если внутри папки содержатся проиндексированные файлы, но ни один из них не подходит по условиям поиска (файлы с желтыми светофорами). В папке могут находиться непроиндексированные файлы (красный светофор), главное, чтобы были проиндексированные файлы с желтым статусом и отсутствовали файлы с зеленым статусом.
4. **Красный светофор** — если все файлы внутри папки не проиндексированы и уже был первый запуск поиска. Светофор сбрасывается на серый при очистке поиска.

## Пример ошибки

Не отрабатывает логика желтого светофора на файлах: по поиску ничего не найдено, но проиндексированные файлы не стали желтыми. Некорректно отрабатывает логика папки.

---

**Реализацию не писать, только документацию.**