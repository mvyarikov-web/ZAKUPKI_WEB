# increment-001 — UI/UX для архивов как папок

Дата и время пуша (МСК): 1 октября 2025 г.
Хэш коммита Git: f150d90c7bff2c3c94899ae27b6000f36ff212f4

## Постановка
Сделать архивы (ZIP/RAR) в пользовательском интерфейсе так же, как у папок, с предпросмотром и индикаторами:

- Архивы кликабельны как папки
- Заголовки/контекст содержат имя архива и путь внутри
- Предпросмотр с фрагментами и дублированием дубликатов
- «Светофор» совпадений для папок/файлов
- Под именем показать char_count
- Кнопка «очистить все» сбрасывает поиск и подсветку
- Показывать путь к папкам, из которых загружали

## Спецификация
Как пользователь, я хочу видеть и открывать архивы (ZIP/RAR) в исходных файлах, а также в обычных папках, просматривать найденные совпадения внутри файлов (включая файлы из архивов) прямо на странице с терминами панели, понимать под «светофору», где есть совпадение, видеть размер документа (char_count) и при необходимости быстрого поиска и возврата к исходному состоянию.

### Критерии приёма:

1. **Дерево файлов**: при клике на элемент архива «report.zip» он разворачивается и показывает вложенные файлы/папки как обычную папку. Названия дополнительных элементов соответствуют представлению архива. Неподдерживаемые файлы визуальные «серые» и некликабельные.
2. **Контекст заголовков**: при выборе результата поиска из заголовка архива/хлебные крошки содержат имя архива и путь внутри, например: «report.zip › data/2024/q1/plan.docx».
3. **Предпросмотр**: в правой панели отображается фрагмент(ы) текста с панели поиска всех терминов; возможен переход между совпадениями стрелками/кнопками «след./пред.»; предпросмотр доступных файлов, подверженных воздействию индекса. Для неподдерживаемых — сообщение «Файл не содержит указаний для предпросмотра».
4. **Светофорные индикаторы**: в каждом узле дерева отображается индикатор: зелёный — есть совпадения в этом узле (для файла) или в поддереве (для папок/архива); жёлтый — [ТРЕБУЕТСЯ РАЗЪЯСНЕНИЕ: требуется ли жёлтый статус как «есть совпадения в части потомков/не во всех» или «есть совпадения только в потомках, но не в текущем файле»?]; красный — совпадений нет.
5. **char_count**: под именем каждого файла показывается «Символов: N». Если значение неизвестно — «Символов: —». Для узла архива/папки агрегированное значение не показывается, чтобы не вводить в заблуждение.
6. **Кнопка «Очистить все»**: очищает поиск по тексту, снимает все подсветки в предпросмотре, сбрасывает индикаторы светофора в нейтральное состояние (серый/без индикатора), возвращает дерево в исходное раскрытие [ТРЕБУЕТ РАЗЪЯСНЕНИЙ: поворачивать все узлы или сохранять текущее раскрытие?]. Файлы не удаляются.
7. **Путь загрузки**: после загрузки через выборочные папки отображается под именем файла (или в задней панели информации) исходный путь папки, из которого была произведена загрузка (относительно клиента), например: «Загружено из: Documents/Tenders/2024» [НУЖНО РАЗЪЯСНЕНИЕ: хранить и показывать путь клиента или только указание-ярлык? В целях приватности возможно показать только последний сегмент].

## Примечания
Краевые случаи, ограничения и вопросы по деталям см. в разделе «Приёмы».