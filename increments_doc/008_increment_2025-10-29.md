# –ü—Ä–∏—Ä–∞—â–µ–Ω–∏–µ ‚Ññ008 ‚Äî UI/UX —É–ª—É—á—à–µ–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª—è–º–∏

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-10-29  
**–°—Ç–∞—Ç—É—Å**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

## –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–æ—Å–∏–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ —É–ª—É—á—à–µ–Ω–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–µ–ª—è–º–∏:

1. **–°—É–º–º–∞—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤ —Ä—É–±–ª—è—Ö** –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª–µ–µ –∑–∞–º–µ—Ç–Ω–æ–π –≤ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º –æ—Ç—á–µ—Ç–µ –∞–Ω–∞–ª–∏–∑–∞
2. **–û—à–∏–±–∫–∏ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ** –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è —Å–≤–µ—Ä—Ö—É –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞, –∞ –Ω–µ —Å–Ω–∏–∑—É
3. **–†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∞–π–º–∞—É—Ç–∞** –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏:
   - –ü–æ–ª–µ –≤–≤–æ–¥–∞ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –º–æ–¥–µ–ª–∏
   - –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 30 —Å–µ–∫—É–Ω–¥
   - –î–∏–∞–ø–∞–∑–æ–Ω: 5-600 —Å–µ–∫—É–Ω–¥
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏
4. **–ù–æ–≤–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π** –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–û–±–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª–∏":
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏–∑ OpenAI API
   - –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–æ–¥–µ–ª—è—Ö
   - –ò—Å–∫–ª—é—á–∏—Ç—å —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
   - –í—ã–±–æ—Ä —á–µ—Ä–µ–∑ –≥–∞–ª–æ—á–∫–∏ (—á–µ–∫–±–æ–∫—Å—ã)
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –ø–æ –∫–Ω–æ–ø–∫–µ "–û–ö"

---

## –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

### 1. Prominent –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤ —Ä—É–±–ª—è—Ö

**–§–∞–π–ª**: `webapp/utils/markdown_renderer.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `render_analysis_result()`**:
- –ë–ª–æ–∫ —Å —Ä—É–±–ª—è–º–∏ –≤—ã–¥–µ–ª–µ–Ω:
  - –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω: `linear-gradient(135deg, #e7f5e7 0%, #d4edda 100%)`
  - –†–∞–º–∫–∞: 2px solid #28a745
  - –¢–µ–Ω—å: `box-shadow: 0 2px 4px rgba(40,167,69,0.2)`
  - –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —à—Ä–∏—Ñ—Ç —Å—É–º–º—ã: 18px, bold, —Ç—ë–º–Ω–æ-–∑–µ–ª—ë–Ω—ã–π (#155724)
  - –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π padding: 10px

### 2. –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –Ω–∞–≤–µ—Ä—Ö –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞

**–§–∞–π–ª**: `templates/index.html`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `#aiResultModal`**:
- –ë–ª–æ–∫ `#aiResultError` –ø–µ—Ä–µ–º–µ—â—ë–Ω —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∫–Ω–æ–ø–∫–∏ –∑–∞–∫—Ä—ã—Ç–∏—è, –ø–µ—Ä–µ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º
- Margin –∏–∑–º–µ–Ω—ë–Ω –Ω–∞ `0 0 15px 0` –¥–ª—è –æ—Ç—Å—Ç—É–ø–∞ —Å–Ω–∏–∑—É
- –û—à–∏–±–∫–∏ —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### 3. –¢–∞–π–º–∞—É—Ç –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏

#### Frontend

**–§–∞–π–ª**: `static/js/rag-analysis.js`

**–í `renderModelsList()`**:
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ –≤–≤–æ–¥–∞:
  ```javascript
  <label>–¢–∞–π–º–∞—É—Ç (—Å–µ–∫): 
    <input type="number" data-timeout="${m.model_id}" 
           value="${m.timeout || 30}" 
           min="5" max="600" step="1" style="width:80px;" />
  </label>
  ```

**–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è timeout**:
- –°–ª—É—à–∞–µ—Ç `input` —Å–æ–±—ã—Ç–∏—è –Ω–∞ –≤—Å–µ—Ö –ø–æ–ª—è—Ö `[data-timeout]`
- –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω 5-600 —Å–µ–∫—É–Ω–¥
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –º–æ–¥–µ–ª–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" (—á–µ—Ä–µ–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–µ—Ö–∞–Ω–∏–∑–º)

#### Backend

**–§–∞–π–ª**: `webapp/routes/ai_rag.py`

**–ú–∏–≥—Ä–∞—Ü–∏—è –≤ `_load_models_config()`**:
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –ø–æ–ª—è `timeout`
- –ï—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Üí —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è 30 —Å–µ–∫—É–Ω–¥
- –ü–æ–ª–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ normalized_models

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ `_direct_analyze_without_rag()`**:
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ timeout –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏:
  ```python
  if model_config and 'timeout' in model_config:
      timeout = model_config['timeout']
  else:
      timeout = current_app.config.get('OPENAI_TIMEOUT', 90)
  ```
- –ü–µ—Ä–µ–¥–∞—á–∞ –≤ OpenAI client –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π**:
- –í `/models/refresh`: `'timeout': 30`
- –í `/models/add`: `'timeout': 30`

### 4. –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π

#### Frontend HTML

**–§–∞–π–ª**: `templates/index.html`

**–ù–æ–≤–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ `#addModelsModal`**:
- –ó–∞–≥–æ–ª–æ–≤–æ–∫: "–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏"
- –°—Ç–∞—Ç—É—Å-–±–∞—Ä –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–ø–∏—Å–∫–∞ –º–æ–¥–µ–ª–µ–π: `#newModelsList` (max-height: 400px, overflow-y: auto)
- –ö–Ω–æ–ø–∫–∏: "–û—Ç–º–µ–Ω–∞", "–î–æ–±–∞–≤–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ"

#### Frontend JavaScript

**–§–∞–π–ª**: `static/js/rag-analysis.js`

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ "–û–±–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª–∏"**:
- –í–º–µ—Å—Ç–æ POST `/models/refresh` —Ç–µ–ø–µ—Ä—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç `#addModelsModal`
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π

**–õ–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–µ–π**:
1. –ó–∞–ø—Ä–æ—Å GET `/ai_rag/models/available`
2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –∏–∑ OpenAI API
3. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è: `availableModels.filter(m => !currentModels.includes(m.model_id))`
4. –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å–ø–∏—Å–∫–∞ —Å —á–µ–∫–±–æ–∫—Å–∞–º–∏

**–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –º–æ–¥–µ–ª–∏**:
```javascript
<div style="border: 1px solid #ddd; padding: 10px;">
  <label>
    <input type="checkbox" class="new-model-checkbox" data-model-id="${m.model_id}" />
    <div>
      <strong>${m.display_name || m.model_id}</strong>
      <div>ID: ${m.model_id}</div>
      <div>–ö–æ–Ω—Ç–µ–∫—Å—Ç: ${context_tokens} —Ç–æ–∫–µ–Ω–æ–≤</div>
    </div>
  </label>
</div>
```

**–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è**:
1. –°–æ–±—Ä–∞—Ç—å –æ—Ç–º–µ—á–µ–Ω–Ω—ã–µ —á–µ–∫–±–æ–∫—Å—ã
2. –ò–∑–≤–ª–µ—á—å `data-model-id` –∏–∑ –∫–∞–∂–¥–æ–≥–æ
3. POST `/ai_rag/models/add` —Å `{ model_ids: [...] }`
4. –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π —á–µ—Ä–µ–∑ `loadModelsConfig()`
5. –ó–∞–∫—Ä—ã—Ç—å –æ–∫–Ω–æ —á–µ—Ä–µ–∑ 1.5 —Å–µ–∫ –ø—Ä–∏ —É—Å–ø–µ—Ö–µ

#### Backend Endpoints

**–§–∞–π–ª**: `webapp/routes/ai_rag.py`

**GET `/ai_rag/models/available`**:
- –í—ã–∑—ã–≤–∞–µ—Ç `_fetch_openai_models()`
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –∏–∑ OpenAI API
- –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:
  ```json
  {
    "success": true,
    "models": [
      {
        "model_id": "gpt-4",
        "display_name": "gpt-4",
        "context_window_tokens": 0,
        "price_input_per_1m": 0.0,
        "price_output_per_1m": 0.0,
        "enabled": true
      },
      ...
    ]
  }
  ```

**POST `/ai_rag/models/add`**:
- –û–∂–∏–¥–∞–µ—Ç JSON: `{ "model_ids": ["id1", "id2", ...] }`
- –í–∞–ª–∏–¥–∞—Ü–∏—è:
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è `model_ids`
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ —ç—Ç–æ –Ω–µ–ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫
- –õ–æ–≥–∏–∫–∞:
  1. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ `_fetch_openai_models()`
  2. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
  3. –î–ª—è –∫–∞–∂–¥–æ–≥–æ `model_id`:
     - –ï—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å ‚Üí –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å
     - –ï—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞ ‚Üí –¥–æ–±–∞–≤–∏—Ç—å —Å `timeout: 30`
     - –°—á—ë—Ç—á–∏–∫ `added`
  4. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —á–µ—Ä–µ–∑ `_save_models_config()`
- –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:
  ```json
  {
    "success": true,
    "added": 2,
    "total": 15
  }
  ```

---

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è (–ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏)

### –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

#### 1. –°—É–º–º–∞—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤ —Ä—É–±–ª—è—Ö –≤—ã–¥–µ–ª–µ–Ω–∞ –≤–∏–∑—É–∞–ª—å–Ω–æ
- –ë–ª–æ–∫ —Å –∏—Ç–æ–≥–æ–≤–æ–π —Å—É–º–º–æ–π –≤ —Ä—É–±–ª—è—Ö —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç —è—Ä–∫–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω (—Å–≤–µ—Ç–ª–æ-–∑–µ–ª—ë–Ω—ã–π)
- –ó–µ–ª—ë–Ω–∞—è —Ä–∞–º–∫–∞ 2px –∏ –ª—ë–≥–∫–∞—è —Ç–µ–Ω—å –¥–ª—è –æ–±—ä—ë–º–∞
- –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ —É–≤–µ–ª–∏—á–µ–Ω –¥–æ 18px, –∂–∏—Ä–Ω—ã–π, —Ç—ë–º–Ω–æ-–∑–µ–ª—ë–Ω—ã–π —Ü–≤–µ—Ç
- –•–æ—Ä–æ—à–æ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞ —Ñ–æ–Ω–µ –æ—Å—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

#### 2. –û—à–∏–±–∫–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω—ã –Ω–∞–≤–µ—Ä—Ö
- –ë–ª–æ–∫ –æ—à–∏–±–æ–∫ `#aiResultError` —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–∞–º—ã–º –ø–µ—Ä–≤—ã–º –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∫–Ω–æ–ø–∫–∏ –∑–∞–∫—Ä—ã—Ç–∏—è, –ø–µ—Ä–µ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç –æ—à–∏–±–∫–∏ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –æ–∫–Ω–∞

#### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∞–π–º–∞—É—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏
- –í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –≤—ã–±–æ—Ä–∞ –º–æ–¥–µ–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ "–¢–∞–π–º–∞—É—Ç (—Å–µ–∫)"
- –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 30 —Å–µ–∫—É–Ω–¥
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤–≤–æ–¥–∞: min=5, max=600
- –ó–Ω–∞—á–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
- Backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π —Ç–∞–π–º–∞—É—Ç –º–æ–¥–µ–ª–∏ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ
- –ï—Å–ª–∏ –º–æ–¥–µ–ª—å –Ω–µ –∏–º–µ–µ—Ç timeout ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω—ã–π (90 —Å–µ–∫)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è: –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–æ–¥–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç timeout=30

#### 4. –û–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π
- –ö–Ω–æ–ø–∫–∞ "–û–±–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª–∏" —Ç–µ–ø–µ—Ä—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞
- –û–∫–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏–∑ OpenAI API
- –ú–æ–¥–µ–ª–∏, —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é, –∏—Å–∫–ª—é—á–∞—é—Ç—Å—è –∏–∑ —Å–ø–∏—Å–∫–∞
- –ö–∞–∂–¥–∞—è –º–æ–¥–µ–ª—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:
  - Display name
  - Model ID
  - –ö–æ–Ω—Ç–µ–∫—Å—Ç (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤)
  - –ß–µ–∫–±–æ–∫—Å –¥–ª—è –≤—ã–±–æ—Ä–∞
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –Ω—É–∂–Ω—ã–µ –º–æ–¥–µ–ª–∏ –≥–∞–ª–æ—á–∫–∞–º–∏
- –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ" –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ backend
- –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- –û–∫–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 1.5 —Å–µ–∫—É–Ω–¥—ã

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:
- `webapp/utils/markdown_renderer.py` ‚Äî –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å—É–º–º—ã –≤ —Ä—É–±–ª—è—Ö
- `templates/index.html` ‚Äî –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –±–ª–æ–∫–∞ –æ—à–∏–±–æ–∫, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
- `static/js/rag-analysis.js` ‚Äî –ø–æ–ª–µ timeout, –ª–æ–≥–∏–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π
- `webapp/routes/ai_rag.py` ‚Äî –º–∏–≥—Ä–∞—Ü–∏—è timeout, –Ω–æ–≤—ã–µ endpoints, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ timeout

**–ù–æ–≤—ã–µ endpoints**:
- `GET /ai_rag/models/available` ‚Äî —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –∏–∑ OpenAI
- `POST /ai_rag/models/add` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π

**–ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**:
- –í—Å–µ –º–æ–¥–µ–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—é—Ç –ø–æ–ª–µ `timeout: 30` –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–æ–¥–µ–ª–∏ –Ω–µ —Ç–µ—Ä—è—é—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∞–π–º–∞—É—Ç–∞**:
1. –û—Ç–∫—Ä—ã—Ç—å "–í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏"
2. –ù–∞–π—Ç–∏ –ø–æ–ª–µ "–¢–∞–π–º–∞—É—Ç (—Å–µ–∫)" –¥–ª—è –Ω—É–∂–Ω–æ–π –º–æ–¥–µ–ª–∏
3. –í–≤–µ—Å—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏–µ (5-600 —Å–µ–∫—É–Ω–¥)
4. –ù–∞–∂–∞—Ç—å "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π**:
1. –û—Ç–∫—Ä—ã—Ç—å "–í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏"
2. –ù–∞–∂–∞—Ç—å "üîÑ –û–±–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª–∏"
3. –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
4. –û—Ç–º–µ—Ç–∏—Ç—å –≥–∞–ª–æ—á–∫–∞–º–∏ –Ω—É–∂–Ω—ã–µ –º–æ–¥–µ–ª–∏
5. –ù–∞–∂–∞—Ç—å "–î–æ–±–∞–≤–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ"
6. –î–æ–∂–¥–∞—Ç—å—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è –æ–∫–Ω–∞

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é
- –°–µ—Ä–≤–µ—Ä —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8081 (PID: 25578)
- –ù–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
- –í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**:
- –î–æ–±–∞–≤–ª–µ–Ω–æ –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –º–æ–¥–µ–ª—è—Ö
- –£–ª—É—á—à–µ–Ω–∞ UX: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Ç–µ –º–æ–¥–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å
- –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è: —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
