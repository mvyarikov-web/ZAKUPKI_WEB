1. Git commit hash: 9685e1a9256e9fec4a2f64a62388d4fc85b04c79
–î–∞—Ç–∞: 04.11.2025 23:29 MSK
Increment: –û—á–∏—Å—Ç–∫–∞ Git –∏—Å—Ç–æ—Ä–∏–∏ –æ—Ç —Å–µ–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª—é—á–µ–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω BFG Repo-Cleaner –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è api_keys.json –∏–∑ –≤—Å–µ—Ö –∫–æ–º–º–∏—Ç–æ–≤
- –£–¥–∞–ª–µ–Ω—ã —Ñ–∞–π–ª—ã: __legacy_backup__/api_keys.json, api_keys_manager_multiple.py, api_keys_new.py
- –í—ã–ø–æ–ª–Ω–µ–Ω git reflog expire --expire=now --all && git gc --prune=now --aggressive
- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π push: git push origin main --force
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è Git –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–µ–Ω–∞, push –≤ GitHub —É—Å–ø–µ—à–µ–Ω
- BFG –æ–±—Ä–∞–±–æ—Ç–∞–ª 233 –∫–æ–º–º–∏—Ç–∞, —É–¥–∞–ª–∏–ª 1 —Ñ–∞–π–ª (api_keys.json, 3.8KB)

2. 14dada8
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ (display_name) –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ default_model
–î–æ–±–∞–≤–ª–µ–Ω –∫—É—Ä—Å USD/RUB –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥–µ–ª–µ–π, —Ä–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤ —Ä—É–±–ª—è—Ö
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ –ø—Ä—è–º–æ–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–∏ –æ—à–∏–±–∫–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞ (OpenAI)
–£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∫—É—Ä—Å–∞, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫
–î–æ–±–∞–≤–ª–µ–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç PUT /ai_rag/models/default –¥–ª—è —Å–º–µ–Ω—ã –º–æ–¥–µ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

2. Git commit hash: b085dea
Prominent –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤ —Ä—É–±–ª—è—Ö

3. Git commit hash: c7797d32f138dc1f71d3930c1d424b517ac17371
–î–∞—Ç–∞: 04.11.2025
Increment: 013 (PostgreSQL –º–∏–≥—Ä–∞—Ü–∏—è —Å pgvector, —à–∞–≥–∏ 1-6)
- –ù–∞—Å—Ç—Ä–æ–µ–Ω ConfigService, Alembic, SQLAlchemy base layer
- –°–æ–∑–¥–∞–Ω—ã 11 –º–æ–¥–µ–ª–µ–π –ë–î (User, Session, Document, Chunk, AIConversation –∏ —Ç.–¥.)
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è 14c42e5d4b45 –∫ PostgreSQL app_db
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ pgvector 0.8.1
- –í—Å–µ —Ç–µ—Å—Ç—ã passed: test_config_env, test_alembic_setup, test_db_session, test_db_models_schema, test_alembic_migrations, test_postgres_integration (9/9)
- –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏: scripts/check_db_status.py

4. Git commit hash: cda3efe5e139a3b2e9b5f6604e313b3a7af7276a
–î–∞—Ç–∞: 04.11.2025
Increment: 013 (–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î, —à–∞–≥ 7)
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏: BaseRepository, UserRepository, DocumentRepository, ChunkRepository
- –î–æ–±–∞–≤–ª–µ–Ω—ã Python Enum –≤ models.py: UserRole, DocumentStatus, MessageRole, LogLevel, JobType, JobStatus
- ChunkRepository –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ pgvector (cosine similarity)
- –í—Å–µ —Ç–µ—Å—Ç—ã passed: test_repositories.py (13/13)

5. Git commit hash: 878e83263541d1fe1e6684344f0aa5fd726cb006
–î–∞—Ç–∞: 04.11.2025
Increment: 013 (DataAccessAdapter –¥–ª—è dual-mode, —à–∞–≥–∏ 8.1-8.2)
- –°–æ–∑–¥–∞–Ω webapp/services/data_access_adapter.py —Å –∫–ª–∞—Å—Å–æ–º DataAccessAdapter
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–≤—É—Ö —Ä–µ–∂–∏–º–æ–≤: use_database=False (legacy files) –∏ use_database=True (PostgreSQL)
- –ú–µ—Ç–æ–¥—ã: build_index(), search_documents(), get_documents(), save_document(), delete_document()
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ webapp/routes/search.py: –∑–∞–º–µ–Ω–µ–Ω—ã –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã DocumentProcessor/Searcher –Ω–∞ adapter
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥—É–ª—å–Ω—ã–π logger –¥–ª—è —Ä–∞–±–æ—Ç—ã –±–µ–∑ Flask context
- –ë–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏: 4/4 passed
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å legacy —Ä–µ–∂–∏–º–æ–º

6. Git commit hash: a697bca32292a6f04698f540adfba55ff7981988
–î–∞—Ç–∞: 04.11.2025
Increment: 013 (–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —à–∞–≥–∞ 8: dual-mode adapter, —à–∞–≥–∏ 8.3-8.5)
- –†–∞—Å—à–∏—Ä–µ–Ω—ã —Ç–µ—Å—Ç—ã test_dual_mode_adapter.py –¥–æ 406 —Å—Ç—Ä–æ–∫ (17/19 passed, 2 skipped)
  * –î–æ–±–∞–≤–ª–µ–Ω flask_app fixture –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ —Å Flask context
  * –¢–µ—Å—Ç—ã: —Ñ–∞–π–ª–æ–≤—ã–π —Ä–µ–∂–∏–º, DB —Ä–µ–∂–∏–º —Å fallback, –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –ø–æ–∏—Å–∫–∞
- –û–±–Ω–æ–≤–ª—ë–Ω ConfigService –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å Flask:
  * –î–æ–±–∞–≤–ª–µ–Ω—ã properties: UPLOAD_FOLDER, INDEX_FOLDER, LOGS_DIR, PROMPTS_FOLDER, SEARCH_RESULTS_FILE
  * Flask-–∞—Ç—Ä–∏–±—É—Ç—ã: SECRET_KEY, JSON_AS_ASCII, MAX_CONTENT_LENGTH, REQUEST_TIMEOUT
  * –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: LOG_FILE, LOG_LEVEL, LOG_BACKUP_COUNT
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω webapp/__init__.py:

7. Git commit hash: 451702e + 1d47822
–î–∞—Ç–∞: 04.11.2025
Increment: 013 (–®–∞–≥ 9: AuthService –∏ JWT-–ø–æ—Ç–æ–∫)
- –°–æ–∑–¥–∞–Ω webapp/services/auth_service.py —Å –∫–ª–∞—Å—Å–æ–º AuthService
- –ú–µ—Ç–æ–¥—ã: register_user(), authenticate_user(), create_jwt_token(), verify_jwt_token()
- JWT: HS256 –∞–ª–≥–æ—Ä–∏—Ç–º, 24 —á–∞—Å–∞ TTL, payload: user_id, role, exp
- –ü–∞—Ä–æ–ª–∏: bcrypt —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ werkzeug.security
- UserRepository: create_user(), get_by_email(), get_by_id(), update_password()
- –¢–µ—Å—Ç—ã: 9/9 passed (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥, JWT –≤–∞–ª–∏–¥–∞—Ü–∏—è, –æ—à–∏–±–∫–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è)
- –°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Flask routes

8. Git commit hash: a2d0503
–î–∞—Ç–∞: 04.11.2025
Increment: 013 (–®–∞–≥ 10: –ü–µ—Ä–µ–Ω–æ—Å API-–∫–ª—é—á–µ–π –≤ –ë–î)
- ApiKeyRepository (210 —Å—Ç—Ä–æ–∫): CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è api_keys
  * create_key, get_by_provider, get_all_keys, update_key, delete_key
  * get_by_provider_with_fallback: –ª–∏—á–Ω—ã–π –∫–ª—é—á ‚Üí shared key
- ApiKeyService (210 —Å—Ç—Ä–æ–∫): Fernet —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ + –≤–∞–ª–∏–¥–∞—Ü–∏—è
  * encrypt_key/decrypt_key: —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–π
  * validate_key_format: –ø—Ä–∞–≤–∏–ª–∞ –ø–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º (openai, anthropic, perplexity, deepseek)
  * mask_key: –º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –¥–ª—è UI (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ N —Å–∏–º–≤–æ–ª–æ–≤)
- –¢–µ—Å—Ç—ã: 5/5 passed (encryption round-trip, CRUD, mask_key, validation)
- –°—Ç–∞—Ç—É—Å: –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ —Å–µ—Ä–≤–∏—Å –≥–æ—Ç–æ–≤—ã –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å dual-mode adapter

9. Git commit hash: 73b1ab9
–î–∞—Ç–∞: 04.11.2025
Increment: 013 (–®–∞–≥ 11: –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –ë–î)
- DocumentUploadService: —Å–µ—Ä–≤–∏—Å –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
  * validate_file: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ (<100MB), —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π, MIME-—Ç–∏–ø–æ–≤
  * calculate_sha256: —Ä–∞—Å—á—ë—Ç —Ö—ç—à–∞ –¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏
  * check_duplicate: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ SHA256 + owner_id
  * save_document/save_from_werkzeug: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ bytea (<10MB) –∏–ª–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ S3 (>50MB)
- DocumentRepository: –¥–æ–±–∞–≤–ª–µ–Ω get_by_sha256_and_owner –¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏
- –¢–µ—Å—Ç—ã: 8/8 passed (SHA256, –≤–∞–ª–∏–¥–∞—Ü–∏—è, CRUD, –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è, FileStorage)
- –°—Ç–∞—Ç—É—Å: –°–µ—Ä–≤–∏—Å –≥–æ—Ç–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Ä–æ—É—Ç–∞–º–∏ Flask

10. Git commit hash: 7dfd04d
–î–∞—Ç–∞: 04.11.2025
Increment: 013 (–®–∞–≥ 12: –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å pgvector)
- IndexingService: —Å–µ—Ä–≤–∏—Å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
  * extract_text_from_blob: –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ bytea (UTF-8/CP1251/Latin-1)
  * split_into_chunks: —Ä–∞–∑–±–∏–≤–∫–∞ –ø–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º (~2000 —Å–∏–º–≤–æ–ª–æ–≤, –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ 50)
  * generate_embeddings: OpenAI text-embedding-3-small (1536 dimensions)
  * index_document: –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ ‚Üí —á–∞–Ω–∫–∏–Ω–≥ ‚Üí embeddings ‚Üí bulk insert –≤ chunks
  * index_pending_documents: –ø–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ —Å—Ç–∞—Ç—É—Å–µ PENDING
- ChunkRepository: –º–µ—Ç–æ–¥—ã —É–∂–µ –±—ã–ª–∏ (create_many, get_by_document, delete_by_document, vector_search)
- –¢–µ—Å—Ç—ã: 7/7 passed (–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ, —á–∞–Ω–∫–∏–Ω–≥, SHA256, mock embeddings, –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è, –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è)
- –°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–æ—Ä–∫–µ—Ä–æ–º –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –∏ background tasks

11. Git commit hash: 8116df8
–î–∞—Ç–∞: 04.11.2025
Increment: 013 (–®–∞–≥ 13: –ü–æ–∏—Å–∫ –∏ –∏—Å—Ç–æ—Ä–∏—è)
- SearchService: –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º
  * keyword_search: –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –ø–æ chunks.text (SQL LIKE)
  * semantic_search: –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ pgvector (cosine similarity)
  * hybrid_search: –∫–æ–º–±–∏–Ω–∞—Ü–∏—è keyword + semantic —Å –≤–µ—Å–∞–º–∏ (default: 0.3 keyword, 0.7 semantic)
  * make_snippet: —Å–æ–∑–¥–∞–Ω–∏–µ —Å–Ω–∏–ø–ø–µ—Ç–æ–≤ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –≤–æ–∫—Ä—É–≥ –∑–∞–ø—Ä–æ—Å–∞ (~200 —Å–∏–º–≤–æ–ª–æ–≤)
  * generate_query_embedding: OpenAI embeddings –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞
  * save_to_history: –∑–∞–ø–∏—Å—å –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ search_history
- SearchHistoryRepository: CRUD –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–∏—Å–∫–∞
  * create_search_record: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  * get_by_user/get_recent: –ø–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ (–ø–æ –¥–∞—Ç–µ desc)
  * delete_old: –æ—á–∏—Å—Ç–∫–∞ –∑–∞–ø–∏—Å–µ–π —Å—Ç–∞—Ä—à–µ N –¥–Ω–µ–π
- SearchResult: –∫–ª–∞—Å—Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (chunk, score, snippet, document_id, document_name, to_dict())
- –¢–µ—Å—Ç—ã: 6 passed, 2 skipped (pgvector —Ç—Ä–µ–±—É–µ—Ç PostgreSQL, —Ç–µ—Å—Ç—ã –¥–ª—è keyword/history –ø—Ä–æ—à–ª–∏)
- –°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Flask —Ä–æ—É—Ç–∞–º–∏ –∏ UI

12. Git commit hash: 70bc19f
–î–∞—Ç–∞: 04.11.2025
Increment: 013 (–®–∞–≥ 14: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ë–î)
- DatabaseLogHandler: –∫–∞—Å—Ç–æ–º–Ω—ã–π logging.Handler –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ app_logs
  * emit: –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ª–æ–≥–∏ –≤ –ë–î —á–µ—Ä–µ–∑ AppLogRepository
  * mask_secrets: –º–∞—Å–∫–∏—Ä—É–µ—Ç —Å–µ–∫—Ä–µ—Ç—ã —á–µ—Ä–µ–∑ regex (API-–∫–ª—é—á–∏, –ø–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã, email)
  * –ü–∞—Ç—Ç–µ—Ä–Ω—ã: sk-proj-****, sk-ant-****, pplx-****, password:****, Bearer ****, ***@domain.com
  * –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç extra_json –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ user_id –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- AppLogRepository: CRUD –¥–ª—è app_logs —Ç–∞–±–ª–∏—Ü—ã
  * create_log: —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ (level, message, component, user_id, context_json)
  * get_logs: —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ level/user_id/component/date range —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
  * get_errors: –ø–æ–ª—É—á–µ–Ω–∏–µ ERROR –∏ CRITICAL –ª–æ–≥–æ–≤
  * delete_old: –æ—á–∏—Å—Ç–∫–∞ –∑–∞–ø–∏—Å–µ–π —Å—Ç–∞—Ä—à–µ N –¥–Ω–µ–π (—Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ level)
  * count_by_level: —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —É—Ä–æ–≤–Ω—è–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –¢–µ—Å—Ç—ã: 9/9 passed (–∑–∞–ø–∏—Å—å –≤ –ë–î, –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, date range, –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö)
- –°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Flask app.logger –∏ middleware

13. Git commit hash: b5d3216
–î–∞—Ç–∞: 04.11.2025
Increment: 013 (–®–∞–≥ 15: –ú–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- scripts/migrate_files_to_db.py: —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö —Å —Ñ–∞–π–ª–æ–≤ –≤ PostgreSQL
  * –ü–µ—Ä–µ–Ω–æ—Å uploads/ ‚Üí documents.blob (—Å SHA256-–¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–µ–π)
  * –ü–µ—Ä–µ–Ω–æ—Å index/api_keys.json ‚Üí api_keys (—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ Fernet)
  * –ü–µ—Ä–µ–Ω–æ—Å index/models.json ‚Üí ai_model_configs
  * –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è admin@localhost (–ø–∞—Ä–æ–ª—å: changeme)
  * –ü–æ–¥–¥–µ—Ä–∂–∫–∞ --dry-run —Ä–µ–∂–∏–º–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
  * –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞, –∏—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (—É—Å–ø–µ—Ö–∏/–æ—à–∏–±–∫–∏/–ø—Ä–æ–ø—É—Å–∫–∏)
- docs/MIGRATION_GUIDE.md: –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –º–∏–≥—Ä–∞—Ü–∏–∏
  * –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è: PostgreSQL 14+, pgvector, Python 3.9+, env vars (DATABASE_URL, API_ENCRYPTION_KEY)
  * Dry-run ‚Üí —Ä–µ–∞–ª—å–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  * –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –æ—Ç–∫–∞—Ç–∞ —á–µ—Ä–µ–∑ DELETE –ø–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–º –º–µ—Ç–∫–∞–º created_at
  * –¢–∏–ø–æ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è, —Å–æ–≤–µ—Ç—ã –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- README.md: –¥–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª "–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ PostgreSQL (increment 013)"
  * –°—Å—ã–ª–∫–∞ –Ω–∞ MIGRATION_GUIDE.md
  * –ö—Ä–∞—Ç–∫–∏–µ —à–∞–≥–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ (dry-run, env vars, –∑–∞–ø—É—Å–∫)
  * –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –ø—Ä–æ pgvector –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞
- tests/test_health_endpoint_db.py: smoke-—Ç–µ—Å—Ç GET /health
  * –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑–æ–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ {"status": "ok"}, HTTP 200
- –°—Ç–∞—Ç—É—Å: Increment 013 (—à–∞–≥–∏ 1-15) –∑–∞–≤–µ—Ä—à—ë–Ω, –≥–æ—Ç–æ–≤ –∫ —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ –º–∏–≥—Ä–∞—Ü–∏–∏

7. Git commit hash: 451702e
–î–∞—Ç–∞: 04.11.2025
Increment: 013 (–®–∞–≥ 9: AuthService –∏ JWT-–ø–æ—Ç–æ–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å JWT —Ç–æ–∫–µ–Ω–∞–º–∏:

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã):**
- webapp/auth/jwt_manager.py: JWT –≥–µ–Ω–µ—Ä–∞—Ü–∏—è, –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è, —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- webapp/services/auth_service.py: –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –ª–æ–≥–∏–Ω–∞, –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- webapp/db/repositories/session_repository.py: CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Å–µ—Å—Å–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- webapp/middleware/auth_middleware.py: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤, –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä @require_auth
- webapp/routes/auth.py: 5 REST —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ (register, login, logout, me, change-password)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–∞—Ö:**
- webapp/db/models.py: –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ Session.is_active (Boolean, default=True)
- webapp/config/config_service.py: –¥–æ–±–∞–≤–ª–µ–Ω—ã Flask-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ JWT —Å–≤–æ–π—Å—Ç–≤–∞ (JWT_SECRET_KEY, JWT_ALGORITHM, JWT_EXPIRATION_HOURS)
- webapp/__init__.py: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è auth_bp blueprint –∏ setup_auth_middleware()
- webapp/db/base.py: –¥–æ–±–∞–≤–ª–µ–Ω alias get_db_session = SessionLocal
- webapp/db/repositories/__init__.py: —ç–∫—Å–ø–æ—Ä—Ç SessionRepository

**–¢–µ—Å—Ç—ã:**
- tests/test_auth_flow.py: 15 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- tests/test_auth_minimal.py: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è+–ª–æ–≥–∏–Ω (PASSED)

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –£–±—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ User.is_active –≤ AuthService.login()
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Å–∏—è role —Å—Ç—Ä–æ–∫–∏ –≤ UserRole enum
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ –ë–î (SessionLocal() + close –≤ finally)
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä get_auth_service() —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º commit/rollback

**–°—Ç–∞—Ç—É—Å:** –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
  * –ò–∑–º–µ–Ω—ë–Ω –≤—ã–∑–æ–≤ get_config() –Ω–∞ singleton –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  * –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: app.config.from_object(config_service)
- –ü—Ä–æ–≤–µ—Ä–µ–Ω –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–∞—Ö:
  * USE_DATABASE=false (legacy mode) ‚Äî —É—Å–ø–µ—à–Ω–æ, health OK
  * USE_DATABASE=true (DB mode) ‚Äî —É—Å–ø–µ—à–Ω–æ, health OK
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è increment 013: –®–∞–≥ 8 –æ—Ç–º–µ—á–µ–Ω –∫–∞–∫ ‚úÖ –ó–ê–í–ï–†–®–Å–ù

–ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π –∑–µ–ª—ë–Ω—ã–π —Ñ–æ–Ω —Å —Ç–µ–Ω—å—é –¥–ª—è –±–ª–æ–∫–∞ –∏—Ç–æ–≥–æ–≤–æ–π —Å—É–º–º—ã
–£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —à—Ä–∏—Ñ—Ç (18px, bold, —Ç—ë–º–Ω–æ-–∑–µ–ª—ë–Ω—ã–π)
–í–∏–∑—É–∞–ª—å–Ω–æ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –≤ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º –æ—Ç—á—ë—Ç–µ –∞–Ω–∞–ª–∏–∑–∞
–û—à–∏–±–∫–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω—ã –Ω–∞–≤–µ—Ä—Ö

–ë–ª–æ–∫ –æ—à–∏–±–æ–∫ #aiResultError —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω –ø–µ—Ä–µ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∞–π–º–∞—É—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏

–î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ "–¢–∞–π–º–∞—É—Ç (—Å–µ–∫)" –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –≤—ã–±–æ—Ä–∞ –º–æ–¥–µ–ª–∏
–î–∏–∞–ø–∞–∑–æ–Ω: 5-600 —Å–µ–∫—É–Ω–¥, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 30
Backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –º–æ–¥–µ–ª–µ–π
–û–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π

–ö–Ω–æ–ø–∫–∞ "–û–±–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª–∏" –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏–∑ OpenAI API —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
–§–∏–ª—å—Ç—Ä—É–µ—Ç —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
–í—ã–±–æ—Ä —á–µ—Ä–µ–∑ —á–µ–∫–±–æ–∫—Å—ã, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö


–û—Ç–ª–∏—á–Ω–æ! –ö–æ–º–º–∏—Ç –∏ –ø—É—à –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ.

üìå –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–º–∏—Ç–µ
Git commit hash: ddf8b99
–£–ª—É—á—à–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π

–•–µ—à –∫–æ–º–º–∏—Ç–∞: c839d09

–ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ –≤ –∫–æ–º–º–∏—Ç–µ:

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ markdown –≤ RAG-–∞–Ω–∞–ª–∏–∑–µ
–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–±–ª–∏—Ü –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –æ—Ç—á—ë—Ç–∞—Ö
–î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è API –º–æ–¥–µ–ª–µ–π
–°–æ–∑–¥–∞–Ω –ø—Ä–∏–º–µ—Ä .env –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
–û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –º–æ–¥–µ–ª–µ–π
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ AI-—Ä–æ—É—Ç–∞—Ö


–•–µ—à –∫–æ–º–º–∏—Ç–∞: 31f8319

–ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:
–ú–æ–¥—É–ª—å —É—á—ë—Ç–∞ —Ç–æ–∫–µ–Ω–æ–≤ 

–ö–æ–º–º–∏—Ç: 8ebf876
–¥–æ–±–∞–≤–ª–µ–Ω –¥–∏–ø-—Å–∏–∫, –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–ª—é—á–µ–π, —Ä–∞—Å—à–∏—Ä–µ–Ω –æ—Ç—á–µ—Ç –Ω–∞ –≤—Ä–µ–º—è –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å.

Commit hash: 485d94a85c770ae4ca43419c8adb619fddac1397 - –ø–µ—Ä–µ–¥ —Ç–æ—Ç–∞–ª—å–Ω—ã–º —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–º —Å–æ–æ–±—â–µ–Ω–∏–π

Commit: 60b21fe
–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª—ã —Ç–µ–ø–µ—Ä—å –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
–ú–æ–¥–µ–ª–∏ DeepSeek ‚Äî –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã –¥–≤–µ –¥–µ—à–µ–≤—ã–µ –º–æ–¥–µ–ª–∏ (deepseek-chat –∏ deepseek-coder) —Å —Ü–µ–Ω–∞–º–∏ $0.028/$0.42 –∑–∞ 1–ú —Ç–æ–∫–µ–Ω–æ–≤
–¢–∞–π–º–∞—É—Ç—ã ‚Äî —É–≤–µ–ª–∏—á–µ–Ω—ã –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π (gpt-4o-mini: 120 —Å–µ–∫, o1: 120 —Å–µ–∫) –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è ReadTimeout
–ß–∏—Å—Ç–∫–∞ –∫–æ–¥–∞ ‚Äî —É–¥–∞–ª—ë–Ω —É—Å—Ç–∞—Ä–µ–≤—à–∏–π ai-analysis.js (570 —Å—Ç—Ä–æ–∫), —É–±—Ä–∞–Ω—ã –¥—É–±–ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, —É–ª—É—á—à–µ–Ω–∞ –≤–∏–¥–∏–º–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å

–•–µ—à –∫–æ–º–º–∏—Ç–∞:
483b02e
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –º–æ–¥–µ–ª–∏ –¥–∏–ø—Å–∏–∫ –∏ –≥–ø—Ç

–•–µ—à: 207852594bbfbb955137e6b68e15f452ab273434
–î–æ—Ä–∞–±–æ—Ç–∞–Ω –º–µ–Ω–µ–¥–∂–µ—Ä –∫–ª—é—á–µ–π, –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ü–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞


–•–µ—à: 27ac73e
fix: –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¥–ª—è Search API, —É–ª—É—á—à–µ–Ω–∏–µ UI —á–µ–∫–±–æ–∫—Å–æ–≤ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- –î–æ–±–∞–≤–ª–µ–Ω Perplexity Search API —Å –º–æ–¥–µ–ª—å—é —Ä–∞—Å—á—ë—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ per-request
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ä–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¥–ª—è Search API –≤ backend –∏ frontend
- –£–ª—É—á—à–µ–Ω—ã —Å—Ç–∏–ª–∏ —á–µ–∫–±–æ–∫—Å–æ–≤ –¥–ª—è —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫
- –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ UI —Ç–µ–ø–µ—Ä—å —Å –∫–Ω–æ–ø–∫–æ–π –∑–∞–∫—Ä—ã—Ç–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω –∫–ª–∏–µ–Ω—Ç perplexity_search_client.py –∏ —Ç–µ—Å—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –û–±–Ω–æ–≤–ª–µ–Ω—ã models.json, ai_rag.py, rag-analysis.js, message-manager.js, styles.css
- –ü—Ä–æ–≤–µ–¥—ë–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Ä–∞—Å—á—ë—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç—á—ë—Ç–æ–≤

–•–µ—à –∫–æ–º–º–∏—Ç–∞: 27ac73e

–ö—Ä–∞—Ç–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

–î–æ–±–∞–≤–ª–µ–Ω Perplexity Search API —Å –º–æ–¥–µ–ª—å—é —Ä–∞—Å—á—ë—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ per-request
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ä–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¥–ª—è Search API –≤ backend –∏ frontend
–£–ª—É—á—à–µ–Ω—ã —Å—Ç–∏–ª–∏ —á–µ–∫–±–æ–∫—Å–æ–≤ –¥–ª—è —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫
–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ UI —Ç–µ–ø–µ—Ä—å —Å –∫–Ω–æ–ø–∫–æ–π –∑–∞–∫—Ä—ã—Ç–∏—è
–î–æ–±–∞–≤–ª–µ–Ω –∫–ª–∏–µ–Ω—Ç perplexity_search_client.py –∏ —Ç–µ—Å—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
–û–±–Ω–æ–≤–ª–µ–Ω—ã models.json, ai_rag.py, rag-analysis.js, message-manager.js, styles.css
–ü—Ä–æ–≤–µ–¥—ë–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Ä–∞—Å—á—ë—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç—á—ë—Ç–æ–≤

–•–µ—à –∫–æ–º–º–∏—Ç–∞: 9b4cd80

–ö—Ä–∞—Ç–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Perplexity Search API —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç
–î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ Search API (7 –ø–æ–ª–µ–π) –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
–ü—Ä–∏ –≤—ã–±–æ—Ä–µ Search API –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
–£–ª—É—á—à–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ —Å –ø–æ–∫–∞–∑–æ–º —Å–ø–∏—Å–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏
–£–¥–∞–ª–µ–Ω–æ –∞–≤—Ç–æ—Å–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (duration=0 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ 400 Invalid model –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Search API
–î–æ–±–∞–≤–ª–µ–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç /ai_rag/models/search_params –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–∏—Å–∫–∞


–•–µ—à: 8aae861 –û–ø–∏—Å–∞–Ω–∏–µ: feat: —Ä–µ–∂–∏–º –ø–æ–∏—Å–∫–∞ –¥–ª—è –º–æ–¥–µ–ª–µ–π Sonar (supports_search, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Ç–∞—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è, —Ñ–ª–∞–≥ search_used)

–•–µ—à: 349e281
–û–ø–∏—Å–∞–Ω–∏–µ: feat(ui,backend): —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏/–ø–æ–∏—Å–∫–∞, ‚Äú+ Search‚Äù –≤ UI/—Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö, —Å–Ω—è—Ç–∏–µ –ª–∏–º–∏—Ç–∞ max_tokens –ø—Ä–∏ –ø–æ–∏—Å–∫–µ; –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–∏—Å–∫–∞ (localStorage)

–•–µ—à: aa3170d
–û–ø–∏—Å–∞–Ω–∏–µ: refactor(search): –≤—ã–Ω–µ—Å–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤–µ–±‚Äë–ø–æ–∏—Å–∫–∞ Perplexity –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å webapp/services/search/manager.py; –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤ RAGService

–•–µ—à –∫–æ–º–º–∏—Ç–∞:
24f6b61221531ef898c8763869d230d2132308ad
042c4fc - fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ–∏—Å–∫ (ILIKE –≤–º–µ—Å—Ç–æ to_tsquery), —É–±—Ä–∞–Ω—ã –º–∞—Ä–∫–µ—Ä—ã –ù–ê–ß–ê–õ–û/–ö–û–ù–ï–¶ –¥–æ–∫—É–º–µ–Ω—Ç–∞, –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–∏–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏

‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–´ –û–ë–ù–ê–†–£–ñ–ï–ù–´ –ü–†–ò –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ò:
1. owner_id –≤—Å–µ–≥–¥–∞ = 1 (–∂—ë—Å—Ç–∫–∏–π –∫–æ–¥ –≤ _get_current_user_id)
2. –ü–æ–∏—Å–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0 —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π (ILIKE –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)
3. –ù–µ—Ç —Å–Ω–∏–ø–ø–µ—Ç–æ–≤ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –ø–æ–∏—Å–∫–∞
4. –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ –∏–Ω–¥–µ–∫—Å–∞ (–Ω–µ—Ç —Ç–µ–≥–æ–≤ <mark>)
5. –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã __LABEL__/__HEADER__ –Ω–µ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ HTML span-—Ç–µ–≥–∏

–¢–†–ï–ë–£–ï–¢–°–Ø:
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é _get_current_user_id() –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –û—Ç–ª–∞–¥–∏—Ç—å ILIKE-–ø–æ–∏—Å–∫ –∏–ª–∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ to_tsquery
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Å–Ω–∏–ø–ø–µ—Ç–æ–≤ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–æ–≤ –≤ view_index
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ–π —Ü–µ–ø–æ—á–∫–∏ - —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º –Ω–∞ –ë–î postgres

c7797d32 ‚Äî –®–∞–≥–∏ 1-6 (PostgreSQL setup, –º–æ–¥–µ–ª–∏, –º–∏–≥—Ä–∞—Ü–∏—è)
cda3efe5 ‚Äî –®–∞–≥ 7 (—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)
a697bca3 ‚Äî –®–∞–≥ 8 (dual-mode adapter)
5fa66bd7 ‚Äî –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —á–µ–∫-–ª–∏—Å—Ç—ã ‚úÖ
81e40f - feat: –º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –∏–∑ PROMPT/ –≤ PostgreSQL
f38c7fa - refactor: –ø–µ—Ä–µ–ø–∏—Å–∞–Ω PromptManager –Ω–∞ —Ä–∞–±–æ—Ç—É —Å PostgreSQL
4542210 - feat: —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –¥–µ—Ä–µ–≤–æ —Ñ–∞–π–ª–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –ø–æ–¥–ø–∞–ø–æ–∫
95dc809 - feat: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ—Ç–∫—Ä—ã—Ç–æ–π –ø–∞–ø–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
f300812 - —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ —á–µ–∫–±–æ–∫—Å—ã
7af4430 - —É–¥–∞–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª—é—á–µ–π
7389e5b - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
2ef3e7a - –º–∏–≥—Ä–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ PostgreSQL ‚¨ÖÔ∏è NEW
