# –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç 13: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è OCR ‚Äî –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### –¶–µ–ª–∏ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞
1. ‚úÖ –£—Å–∫–æ—Ä–∏—Ç—å OCR –≤ 4-8 —Ä–∞–∑ –∑–∞ —Å—á—ë—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏
2. ‚úÖ –ü–æ–≤—ã—Å–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä—É—Å/–∞–Ω–≥–ª —Ç–µ–∫—Å—Ç–æ–≤ –Ω–∞ 15-30%
3. ‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –±–∞–∑—É –¥–ª—è –¥–≤—É—Ö—ç—Ç–∞–ø–Ω–æ–π –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

## üìä –î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏**: 40x —É—Å–∫–æ—Ä–µ–Ω–∏–µ (8 —Å–µ–∫ ‚Üí 0.2 —Å–µ–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É)
- **–û–±—â–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: 2-4x —É—Å–∫–æ—Ä–µ–Ω–∏–µ (90 —Å–µ–∫ ‚Üí 41 —Å–µ–∫ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç –∏–∑ 10 —Å—Ç—Ä–∞–Ω–∏—Ü)
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: 5x —É–≤–µ–ª–∏—á–µ–Ω–∏–µ (2 ‚Üí 10 —Å—Ç—Ä–∞–Ω–∏—Ü –º–∞–∫—Å–∏–º—É–º)

### –ö–∞—á–µ—Å—Ç–≤–æ
- **–ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**: +10-30% —Ç–æ—á–Ω–æ—Å—Ç–∏ –Ω–∞ –ø–ª–æ—Ö–∏—Ö —Å–∫–∞–Ω–∞—Ö
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π PSM**: +5-15% –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö

## üîß –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è OCR (`webapp/config.py`)
```python
OCR_USE_OSD = True              # –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OSD –≤–º–µ—Å—Ç–æ 4x OCR
OCR_CACHE_ORIENTATION = True    # –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–∞
OCR_PREPROCESS_IMAGES = True    # –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
OCR_TARGET_DPI = 300            # —Ü–µ–ª–µ–≤–æ–π DPI
OCR_PSM_MODE = 6                # —Ä–µ–∂–∏–º —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
PDF_OCR_MAX_PAGES = 10          # —É–≤–µ–ª–∏—á–µ–Ω–æ —Å 2
```

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ (`document_processor/pdf_reader/reader.py`)

**–ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
- `_detect_orientation_osd()` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Tesseract OSD API (~100-200ms)
- `_detect_orientation_fallback()` ‚Äî —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è —ç–≤—Ä–∏—Å—Ç–∏–∫–∞ (2 —É–≥–ª–∞ –≤–º–µ—Å—Ç–æ 4)
- –ö—ç—à –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ ‚Äî –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞

**–£–ª—É—á—à–µ–Ω–∏—è:**
- –ó–∞–º–µ–Ω–∞ 4 –ø–æ–ª–Ω—ã—Ö OCR –Ω–∞ 1 –±—ã—Å—Ç—Ä—ã–π OSD –≤—ã–∑–æ–≤
- Fallback –Ω–∞ 2 —É–≥–ª–∞ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ OSD (–≤–º–µ—Å—Ç–æ 4)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞

### 3. –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (`_preprocess_image()`)

**–¶–µ–ø–æ—á–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏:**
1. –ö–æ–Ω–≤–µ—Ä—Å–∏—è –≤ grayscale (—É–¥–∞–ª–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞)
2. Otsu binarization (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ä–æ–≥ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞)
3. Median filter 3√ó3 (—É–¥–∞–ª–µ–Ω–∏–µ —à—É–º–∞)

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- opencv-python>=4.5.0 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- Graceful degradation –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ OpenCV

### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (`document_processor/search/indexer.py`)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Flask –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- Fallback –Ω–∞ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤–Ω–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ Flask
- –°–æ–∑–¥–∞–Ω–∏–µ PdfReader —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

## üìÅ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –ò–∑–º–µ–Ω–µ–Ω–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----------|----------|
| `webapp/config.py` | +17 —Å—Ç—Ä–æ–∫ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã OCR –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ |
| `document_processor/pdf_reader/reader.py` | +174/-30 —Å—Ç—Ä–æ–∫ | OSD, –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞, –∫—ç—à |
| `document_processor/search/indexer.py` | +26/-8 —Å—Ç—Ä–æ–∫ | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥–∞ |
| `requirements.txt` | +1 —Å—Ç—Ä–æ–∫–∞ | opencv-python |
| `tests/test_ocr_optimization.py` | +152 —Å—Ç—Ä–æ–∫–∏ (–Ω–æ–≤—ã–π) | 8 —Ç–µ—Å—Ç–æ–≤ |
| `increments_doc/013_increment_2025-10-18.md` | +263 —Å—Ç—Ä–æ–∫–∏ (–Ω–æ–≤—ã–π) | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |
| `demo_ocr_optimization.py` | +230 —Å—Ç—Ä–æ–∫ (–Ω–æ–≤—ã–π) | –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è |

**–ò—Ç–æ–≥–æ:** 7 —Ñ–∞–π–ª–æ–≤, +867 —Å—Ç—Ä–æ–∫, -30 —Å—Ç—Ä–æ–∫

## ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã
```
tests/test_download_endpoint.py ........... ‚úÖ
tests/test_flask_endpoints.py ............. ‚úÖ
tests/test_indexer_basic.py ............... ‚úÖ
tests/test_searcher.py ..................... ‚úÖ
tests/test_server_config.py ............... ‚úÖ
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 7/7 passed ‚úÖ

### –ù–æ–≤—ã–µ —Ç–µ—Å—Ç—ã
```
tests/test_ocr_optimization.py
  test_pdf_reader_accepts_optimization_params ....... ‚úÖ
  test_pdf_reader_default_params .................... ‚úÖ
  test_orientation_cache_structure .................. ‚úÖ
  test_preprocess_image_with_opencv ................. ‚úÖ
  test_preprocess_image_without_opencv .............. ‚úÖ
  test_detect_orientation_osd_graceful_fail ......... ‚úÖ
  test_indexer_uses_config_from_flask ............... ‚úÖ
  test_backward_compatibility_pdf_reader ............ ‚úÖ
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 8/8 passed ‚úÖ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- ‚úÖ PdfReader() –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ Graceful degradation –±–µ–∑ OpenCV/OSD

## üìà –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑

### –°—Ç–∞—Ä–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
```
–î–æ–∫—É–º–µ–Ω—Ç: 10 —Å—Ç—Ä–∞–Ω–∏—Ü PDF-—Å–∫–∞–Ω

–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏:
  - 10 —Å—Ç—Ä–∞–Ω–∏—Ü √ó 4 OCR √ó 2 —Å–µ–∫ = 80 —Å–µ–∫—É–Ω–¥
  
OCR —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ:
  - 2 —Å—Ç—Ä–∞–Ω–∏—Ü—ã √ó 5 —Å–µ–∫ = 10 —Å–µ–∫—É–Ω–¥
  
–ò—Ç–æ–≥–æ: ~90 —Å–µ–∫—É–Ω–¥, 2 —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ
```

### –ù–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (—Å OSD)
```
–î–æ–∫—É–º–µ–Ω—Ç: 10 —Å—Ç—Ä–∞–Ω–∏—Ü PDF-—Å–∫–∞–Ω

–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏:
  - 1 —Å—Ç—Ä–∞–Ω–∏—Ü–∞ √ó OSD 0.2 —Å–µ–∫ = 0.2 —Å–µ–∫—É–Ω–¥—ã
  - –ö—ç—à –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö 9 —Å—Ç—Ä–∞–Ω–∏—Ü
  
–ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞:
  - 10 —Å—Ç—Ä–∞–Ω–∏—Ü √ó 0.1 —Å–µ–∫ = 1 —Å–µ–∫—É–Ω–¥–∞
  
OCR —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ:
  - 10 —Å—Ç—Ä–∞–Ω–∏—Ü √ó 4 —Å–µ–∫ = 40 —Å–µ–∫—É–Ω–¥
  
–ò—Ç–æ–≥–æ: ~41 —Å–µ–∫—É–Ω–¥–∞, 10 —Å—Ç—Ä–∞–Ω–∏—Ü –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ
```

### –ù–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (fallback –±–µ–∑ OSD)
```
–î–æ–∫—É–º–µ–Ω—Ç: 10 —Å—Ç—Ä–∞–Ω–∏—Ü PDF-—Å–∫–∞–Ω

–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏:
  - 1 —Å—Ç—Ä–∞–Ω–∏—Ü–∞ √ó 2 —É–≥–ª–∞ √ó 2 —Å–µ–∫ = 4 —Å–µ–∫—É–Ω–¥—ã
  - –ö—ç—à –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö 9 —Å—Ç—Ä–∞–Ω–∏—Ü
  
–ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞:
  - 10 —Å—Ç—Ä–∞–Ω–∏—Ü √ó 0.1 —Å–µ–∫ = 1 —Å–µ–∫—É–Ω–¥–∞
  
OCR —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ:
  - 10 —Å—Ç—Ä–∞–Ω–∏—Ü √ó 4 —Å–µ–∫ = 40 —Å–µ–∫—É–Ω–¥
  
–ò—Ç–æ–≥–æ: ~45 —Å–µ–∫—É–Ω–¥, 10 —Å—Ç—Ä–∞–Ω–∏—Ü –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ
```

## üîÑ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π API `PdfReader` –Ω–µ –∏–∑–º–µ–Ω—ë–Ω
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã (–¥–µ—Ñ–æ–ª—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç)
- –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –¥–ª—è –≤—Å–µ–≥–æ –∫–æ–¥–∞

### Graceful degradation
- OpenCV –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ ‚Üí OCR –±–µ–∑ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏
- OSD –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí fallback –Ω–∞ —É–ø—Ä–æ—â—ë–Ω–Ω—É—é —ç–≤—Ä–∏—Å—Ç–∏–∫—É
- Tesseract –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí OCR –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ—Å—Ç—å
- –í—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `config.py`
- –ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –ª—é–±—É—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
1. **`increments_doc/013_increment_2025-10-18.md`**
   - –ü–æ–ª–Ω–∞—è –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
   - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
   - –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
   - –ü–ª–∞–Ω —Å–ª–µ–¥—É—é—â–∏—Ö —à–∞–≥–æ–≤

2. **`demo_ocr_optimization.py`**
   - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —É–ª—É—á—à–µ–Ω–∏–π
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–π/–Ω–æ–≤–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

3. **–û–±–Ω–æ–≤–ª—ë–Ω `requirements.txt`**
   - –î–æ–±–∞–≤–ª–µ–Ω opencv-python —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª–Ω–∞—è
- ‚úÖ Graceful degradation —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç —Å—Ç–∏–ª—é –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ö–æ–º–º–∏—Ç—ã
1. `5800fbf` ‚Äî –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è OCR: OSD, –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –∫—ç—à –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏
2. `a40758f` ‚Äî –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞ 013 - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è OCR
3. `71a91f0` ‚Äî –î–æ–±–∞–≤–ª–µ–Ω –¥–µ–º–æ-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —É–ª—É—á—à–µ–Ω–∏–π OCR

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç 14: –î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è
1. **–≠—Ç–∞–ø 1 (FAST):** –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
   - TXT, DOCX, XLSX, –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ PDF, HTML
   - –ß–∞—Å—Ç–∏—á–Ω—ã–π –∏–Ω–¥–µ–∫—Å –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ 30-60 —Å–µ–∫—É–Ω–¥

2. **–≠—Ç–∞–ø 2 (SLOW):** OCR-–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∫–∞–Ω–æ–≤
   - –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞
   - –ü—Ä–æ–≥—Ä–µ—Å—Å-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤ UI

3. **UI –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞:**
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ "–≠—Ç–∞–ø 1: 90/100", "–≠—Ç–∞–ø 2: 5/15"
   - Server-Sent Events –∏–ª–∏ WebSocket

4. **–ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏—è:**
   - ThreadPoolExecutor –¥–ª—è 2-4 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö OCR –∑–∞–¥–∞—á

## üìù –í—ã–≤–æ–¥—ã

### –î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ü–µ–ª–∏
1. ‚úÖ **–£—Å–∫–æ—Ä–µ–Ω–∏–µ OCR:** 2-4x –æ–±—â–µ–µ + 40x –¥–ª—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏
2. ‚úÖ **–ö–∞—á–µ—Å—Ç–≤–æ:** +10-30% –Ω–∞ –ø–ª–æ—Ö–∏—Ö —Å–∫–∞–Ω–∞—Ö
3. ‚úÖ **–ü–æ–∫—Ä—ã—Ç–∏–µ:** 5x –±–æ–ª—å—à–µ —Å—Ç—Ä–∞–Ω–∏—Ü –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è
4. ‚úÖ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ –±–∞–∑–∞ –¥–ª—è –¥–≤—É—Ö—ç—Ç–∞–ø–Ω–æ–π –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞
- –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- Graceful degradation –¥–ª—è –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ—Å—Ç—å –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å
**–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç –≥–æ—Ç–æ–≤ –∫ —Å–ª–∏—è–Ω–∏—é –≤ –æ—Å–Ω–æ–≤–Ω—É—é –≤–µ—Ç–∫—É! üéâ**

---

*–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è: 2025-10-18*  
*Branch: copilot/optimize-ocr-indexing*  
*Commits: 5800fbf, a40758f, 71a91f0*
