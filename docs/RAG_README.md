# RAG-ะฐะฝะฐะปะธะท ะดะพะบัะผะตะฝัะพะฒ ะทะฐะบัะฟะพะบ

ะะพะดัะปั RAG (Retrieval-Augmented Generation) ะดะปั ัะณะปัะฑะปะตะฝะฝะพะณะพ ะฐะฝะฐะปะธะทะฐ ะดะพะบัะผะตะฝัะพะฒ ะทะฐะบัะฟะพะบ ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ ะฒะตะบัะพัะฝะพะณะพ ะฟะพะธัะบะฐ ะธ ะณะตะฝะตัะฐัะธะฒะฝัั ะผะพะดะตะปะตะน.

## ะะพะทะผะพะถะฝะพััะธ

- ๐ **ะกะตะผะฐะฝัะธัะตัะบะธะน ะฟะพะธัะบ** ะฟะพ ัะพะดะตัะถะธะผะพะผั ะดะพะบัะผะตะฝัะพะฒ
- ๐ค **ะกัััะบัััะธัะพะฒะฐะฝะฝัะต ะพัะฒะตัั** (summary, equipment, installation)
- ๐ฐ **ะฃะฟัะฐะฒะปะตะฝะธะต ััะพะธะผะพัััั** ัะตัะตะท UI (ะพัะตะฝะบะฐ ะดะพ ะทะฐะฟัะพัะฐ, ัะฐะบัะธัะตัะบะธะน ัะฐััะพะด)
- ๐ **ะะธะฑะบะฐั ะฝะฐัััะพะนะบะฐ**: ะฒัะฑะพั ะผะพะดะตะปะธ, Top-K, ัััะฝะพะน ะฒะฒะพะด ัะตะฝ
- ๐ **ะัััะบะฐั ะปะพะบะฐะปะธะทะฐัะธั** ะฒัะตะณะพ ะธะฝัะตััะตะนัะฐ
- โก **Graceful degradation** ะฟัะธ ะพััััััะฒะธะธ PostgreSQL

## ะัััััะน ััะฐัั

### 1. ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน

```bash
pip install -r requirements.txt
```

### 2. ะะฐัััะพะนะบะฐ PostgreSQL

#### ะะฐัะธะฐะฝั A: ะะพะบะฐะปัะฝะฐั ัััะฐะฝะพะฒะบะฐ

**Ubuntu/Debian:**
```bash
sudo apt-get update
sudo apt-get install postgresql-16 postgresql-16-pgvector
sudo systemctl start postgresql
```

**macOS:**
```bash
brew install postgresql pgvector
brew services start postgresql
```

#### ะะฐัะธะฐะฝั B: Docker

```bash
docker run -d \
  --name zakupki-postgres \
  -e POSTGRES_PASSWORD=postgres \
  -e POSTGRES_DB=zakupki_rag \
  -p 5432:5432 \
  ankane/pgvector:latest
```

### 3. ะกะพะทะดะฐะฝะธะต ะฑะฐะทั ะดะฐะฝะฝัั

```bash
# ะกะพะทะดะฐัั ะฑะฐะทั (ะตัะปะธ ะตัั ะฝะต ัะพะทะดะฐะฝะฐ)
createdb zakupki_rag

# ะะปะธ ัะตัะตะท psql
psql -U postgres -c "CREATE DATABASE zakupki_rag;"
```

### 4. ะะฐัััะพะนะบะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั

ะกะพะทะดะฐะนัะต ัะฐะนะป `.env` ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ:

```bash
# OpenAI API ะบะปัั (ะพะฑัะทะฐัะตะปัะฝะพ)
OPENAI_API_KEY=sk-your-api-key-here

# PostgreSQL (ะพะฟัะธะพะฝะฐะปัะฝะพ, ะดะตัะพะปั ะฝะธะถะต)
DATABASE_URL=postgresql://postgres:password@localhost:5432/zakupki_rag

# RAG ะฝะฐัััะพะนะบะธ (ะพะฟัะธะพะฝะฐะปัะฝะพ)
RAG_ENABLED=true
RAG_CHUNK_SIZE=2000
RAG_TOP_K=5
RAG_EMBEDDING_MODEL=text-embedding-3-small
RAG_DEFAULT_MODEL=gpt-4o-mini
```

### 5. ะะฝะธัะธะฐะปะธะทะฐัะธั ะฑะฐะทั ะดะฐะฝะฝัั

```bash
python scripts/init_rag_db.py
```

**ะะถะธะดะฐะตะผัะน ะฒัะฒะพะด:**
```
============================================================
ะะฝะธัะธะฐะปะธะทะฐัะธั ะฑะฐะทั ะดะฐะฝะฝัั ะดะปั RAG
============================================================

1. ะะพะดะบะปััะตะฝะธะต ะบ ะฑะฐะทะต ะดะฐะฝะฝัั...
   โ ะะพะดะบะปััะตะฝะธะต ัััะฐะฝะพะฒะปะตะฝะพ

2. ะกะพะทะดะฐะฝะธะต ัะฐััะธัะตะฝะธะน ะธ ัะฐะฑะปะธั...
   โ ะะฐััะธัะตะฝะธะต pgvector ัััะฐะฝะพะฒะปะตะฝะพ
   โ ะขะฐะฑะปะธัะฐ documents ัะพะทะดะฐะฝะฐ
   โ ะขะฐะฑะปะธัะฐ chunks ัะพะทะดะฐะฝะฐ
   โ ะะฝะดะตะบัั ัะพะทะดะฐะฝั

3. ะัะพะฒะตัะบะฐ ััะฐัะธััะธะบะธ...
   ะะพะบัะผะตะฝัะพะฒ ะฒ ะฑะฐะทะต: 0
   ะงะฐะฝะบะพะฒ ะฒ ะฑะฐะทะต: 0

============================================================
โ ะะฝะธัะธะฐะปะธะทะฐัะธั ะทะฐะฒะตััะตะฝะฐ ััะฟะตัะฝะพ!
============================================================
```

### 6. ะะฐะฟััะบ ะฟัะธะปะพะถะตะฝะธั

```bash
python app.py
```

ะัะบัะพะนัะต http://127.0.0.1:8081 ะฒ ะฑัะฐัะทะตัะต.

## ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### 1. ะะฝะดะตะบัะฐัะธั ะดะพะบัะผะตะฝัะพะฒ

1. ะะฐะณััะทะธัะต ะดะพะบัะผะตะฝัั ัะตัะตะท ะบะฝะพะฟะบั "ะัะบัััั ัะฐะนะปั" ะธะปะธ "ะัะบัััั ะฟะฐะฟะบั"
2. ะัะผะตัััะต ัะตะบะฑะพะบัะฐะผะธ ะฝัะถะฝัะต ัะฐะนะปั
3. ะะฐะถะผะธัะต **"ะะฝะดะตะบัะธัะพะฒะฐัั"** ะฒ ัะตะบัะธะธ "AI-ะฐะฝะฐะปะธะท (RAG)"
4. ะะพะถะดะธัะตัั ะทะฐะฒะตััะตะฝะธั (ััะฐััั ะพัะพะฑัะฐะทะธััั ะฒ ัะพะพะฑัะตะฝะธะธ)

### 2. ะะฐัััะพะนะบะฐ ะผะพะดะตะปะธ ะธ ัะตะฝ

1. ะะฐะถะผะธัะต **"ะะฝะฐะปะธะท RAG"**
2. ะ ะพัะบััะฒัะตะผัั ะพะบะฝะต ะฝะฐะถะผะธัะต **"ะะพะดะตะปั"**
3. ะัะฑะตัะธัะต ะฝัะถะฝัั ะผะพะดะตะปั ะธะท ัะฟะธัะบะฐ
4. ะะฒะตะดะธัะต ัะตะฝั:
   - **ะฆะตะฝะฐ ะฒัะพะดะฝัั ัะพะบะตะฝะพะฒ** (ะทะฐ 1M ัะพะบะตะฝะพะฒ)
   - **ะฆะตะฝะฐ ะฒััะพะดะฝัั ัะพะบะตะฝะพะฒ** (ะทะฐ 1M ัะพะบะตะฝะพะฒ)
5. ะะฐะถะผะธัะต **"ะกะพััะฐะฝะธัั"**

### 3. ะัะฟะพะปะฝะตะฝะธะต RAG-ะฐะฝะฐะปะธะทะฐ

1. ะัะฑะตัะธัะต ะฟัะพะธะฝะดะตะบัะธัะพะฒะฐะฝะฝัะต ัะฐะนะปั (ัะตะบะฑะพะบัั)
2. ะะฐะถะผะธัะต **"ะะฝะฐะปะธะท RAG"**
3. ะััะตะดะฐะบัะธััะนัะต ะฟัะพะผะฟั (ะตัะปะธ ะฝัะถะฝะพ)
4. ะะฐัััะพะนัะต ะฟะฐัะฐะผะตััั:
   - **Top-K ััะฐะณะผะตะฝัะพะฒ**: 3-10 (ะฑะพะปััะต = ะดะพัะพะถะต + ะฟะพะปะฝะตะต)
   - **ะะฐะบั. ะฒััะพะดะฝัั ัะพะบะตะฝะพะฒ**: 0-2000 (0 = ะฟะพ ัะผะพะปัะฐะฝะธั ะผะพะดะตะปะธ)
5. ะะฐะถะผะธัะต **"ะัะตะฝะธัั"** ะดะปั ะฟัะตะดะฒะฐัะธัะตะปัะฝะพะณะพ ัะฐััััะฐ
6. ะะฐะถะผะธัะต **"ะะฐัะฐัั ะฐะฝะฐะปะธะท"**
7. ะะพะถะดะธัะตัั ัะตะทัะปััะฐัะฐ (10-30 ัะตะบ)

### 4. ะะตะทัะปััะฐัั ะฐะฝะฐะปะธะทะฐ

ะกัััะบัััะธัะพะฒะฐะฝะฝัะน ะพัะฒะตั ะฒะบะปััะฐะตั:

#### Summary (ะบัะฐัะบะฐั ะฒัะถะธะผะบะฐ)
- ะะพ 10 ะบะปััะตะฒัั ะฟัะฝะบัะพะฒ
- ะัะฐัะบะพะต ะพะฟะธัะฐะฝะธะต ะทะฐะบัะฟะบะธ

#### Equipment (ัะฟะธัะพะบ ะพะฑะพััะดะพะฒะฐะฝะธั)
- ะะฐะทะฒะฐะฝะธะต ะธ ะผะพะดะตะปั
- ะฅะฐัะฐะบัะตัะธััะธะบะธ (ะผะพัะฝะพััั, ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั ะธ ั.ะด.)
- ะะพะปะธัะตััะฒะพ ะธ ะตะดะธะฝะธัั ะธะทะผะตัะตะฝะธั
- ะฆะธัะฐัั-ะฟะพะดัะฒะตัะถะดะตะฝะธั ะธะท ะดะพะบัะผะตะฝัะพะฒ

#### Installation (ะผะพะฝัะฐะถ)
- **ะะตัะดะธะบั**: ะขัะตะฑัะตััั / ะะต ััะตะฑัะตััั / ะะตะธะทะฒะตััะฝะพ
- **ะะพะดัะฒะตัะถะดะตะฝะธั**: ะบะพัะพัะบะธะต ัะธัะฐัั ั ัะฟะพะผะธะฝะฐะฝะธะตะผ ะผะพะฝัะฐะถะฐ, ะะะ, ัะตั-ะผะพะฝัะฐะถะฐ ะธ ั.ะด.

#### ะคะฐะบัะธัะตัะบะธะน ัะฐััะพะด
- ะัะพะดะฝัะต ัะพะบะตะฝั
- ะััะพะดะฝัะต ัะพะบะตะฝั
- ะะฑัะตะต ะบะพะปะธัะตััะฒะพ ัะพะบะตะฝะพะฒ
- ะกัะพะธะผะพััั (ะฟะพ ะฒะฒะตะดัะฝะฝัะผ ัะตะฝะฐะผ)

## ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    Web Interface                        โ
โ  (templates/index.html + static/js/rag-analysis.js)    โ
โโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                  โ
โโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                 Flask Routes                            โ
โ              (webapp/routes/ai_rag.py)                  โ
โ                                                          โ
โ  /ai_rag/models  - ะฃะฟัะฐะฒะปะตะฝะธะต ะผะพะดะตะปัะผะธ                  โ
โ  /ai_rag/estimate - ะัะตะฝะบะฐ ะทะฐะฟัะพัะฐ                      โ
โ  /ai_rag/index   - ะะฝะดะตะบัะฐัะธั ะดะพะบัะผะตะฝัะพะฒ                โ
โ  /ai_rag/analyze - ะัะฟะพะปะฝะตะฝะธะต RAG-ะฐะฝะฐะปะธะทะฐ               โ
โ  /ai_rag/status  - ะกัะฐััั ัะธััะตะผั                       โ
โโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                  โ
โโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                  RAG Service                            โ
โ           (webapp/services/rag_service.py)              โ
โ                                                          โ
โ  โข index_document()    - ะะฝะดะตะบัะฐัะธั                     โ
โ  โข search_and_analyze() - ะะพะธัะบ + ะณะตะฝะตัะฐัะธั             โ
โ  โข _postprocess_result() - ะะพััะพะฑัะฐะฑะพัะบะฐ                โ
โโโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโ
       โ          โ              โ
โโโโโโโโผโโโโโโ โโโผโโโโโโโโโโ โโโโผโโโโโโโโโโโโโโโโโโโโโโโโโ
โ Chunking   โ โ Embeddingsโ โ  PostgreSQL + pgvector    โ
โ  Service   โ โ  Service  โ โ                           โ
โ            โ โ           โ โ โข documents (metadata)    โ
โ โข chunk_   โ โ โข get_    โ โ โข chunks (text+vectors)   โ
โ   document โ โ   embeddingโ โ โข IVFFlat index           โ
โ โข clean_   โ โ โข batch   โ โ โข Cosine similarity       โ
โ   text     โ โ   processingโ โ   search                 โ
โโโโโโโโโโโโโโ โโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ะะพะฝัะธะณััะฐัะธั

### ะะฐัะฐะผะตััั RAG (webapp/config.py)

```python
# ะะบะปััะตะฝะธะต/ะฒัะบะปััะตะฝะธะต RAG
RAG_ENABLED = True

# ะะฐะทะผะตั ัะฐะฝะบะฐ ะฒ ัะพะบะตะฝะฐั (ัะตะบะพะผะตะฝะดัะตััั 1500-3000)
RAG_CHUNK_SIZE = 2000

# Overlap ะฒ ะฟัะตะดะปะพะถะตะฝะธัั (ะดะปั ัะพััะฐะฝะตะฝะธั ะบะพะฝัะตะบััะฐ)
RAG_CHUNK_OVERLAP = 3

# ะะพะปะธัะตััะฒะพ ัะฐะฝะบะพะฒ ะดะปั ะบะพะฝัะตะบััะฐ (ะฑะพะปััะต = ะดะพัะพะถะต + ะฟะพะปะฝะตะต)
RAG_TOP_K = 5

# ะะธะฝะธะผะฐะปัะฝัะน ะฟะพัะพะณ ััะพะดััะฒะฐ (0-1, ัะตะบะพะผะตะฝะดัะตััั 0.6-0.8)
RAG_MIN_SIMILARITY = 0.7

# ะะพะดะตะปั ัะผะฑะตะดะดะธะฝะณะพะฒ
RAG_EMBEDDING_MODEL = 'text-embedding-3-small'

# ะะพะดะตะปั ะณะตะฝะตัะฐัะธะธ ะฟะพ ัะผะพะปัะฐะฝะธั
RAG_DEFAULT_MODEL = 'gpt-4o-mini'

# ะะฐะบัะธะผัะผ ะฒััะพะดะฝัั ัะพะบะตะฝะพะฒ
RAG_MAX_OUTPUT_TOKENS = 600

# ะขะตะผะฟะตัะฐัััะฐ (ะดะตัะตัะผะธะฝะธะทะผ: 0.0-0.5, ะบัะตะฐัะธะฒะฝะพััั: 0.6-1.0)
RAG_TEMPERATURE = 0.3
```

### ะะพะดะตะปะธ (index/models.json)

```json
{
  "models": [
    {
      "model_id": "gpt-4o-mini",
      "display_name": "GPT-4o Mini (ัะบะพะฝะพะผะฝัะน)",
      "context_window_tokens": 128000,
      "price_input_per_1m": 0.15,
      "price_output_per_1m": 0.60,
      "enabled": true,
      "description": "ะัะธะผะตัะฝัะต ัะตะฝั. ะะฑะฝะพะฒะธัะต ัะตัะตะท UI ะฟะพัะปะต ะฟัะพะฒะตัะบะธ ะฐะบััะฐะปัะฝัั ัะฐัะธัะพะฒ."
    },
    {
      "model_id": "gpt-4-turbo",
      "display_name": "GPT-4 Turbo",
      "context_window_tokens": 128000,
      "price_input_per_1m": 10.0,
      "price_output_per_1m": 30.0,
      "enabled": true,
      "description": "ะัะธะผะตัะฝัะต ัะตะฝั. ะะฑะฝะพะฒะธัะต ัะตัะตะท UI ะฟะพัะปะต ะฟัะพะฒะตัะบะธ ะฐะบััะฐะปัะฝัั ัะฐัะธัะพะฒ."
    }
  ],
  "default_model": "gpt-4o-mini",
  "note": "ะฆะตะฝั ัะบะฐะทะฐะฝั ะฟัะธะฑะปะธะทะธัะตะปัะฝะพ. ะะฑะฝะพะฒะธัะต ะธั ัะตัะตะท UI ะฟะพัะปะต ะฟัะพะฒะตัะบะธ ะฐะบััะฐะปัะฝัั ัะฐัะธัะพะฒ ะฝะฐ https://openai.com/pricing"
}
```

## ะขะตััะธัะพะฒะฐะฝะธะต

### ะะฐะฟััะบ ัะตััะพะฒ

```bash
# ะัะต ัะตััั ัะฐะฝะบะพะฒะฐะฝะธั (ะฝะต ััะตะฑััั ะฒะฝะตัะฝะธั ัะตัะฒะธัะพะฒ)
python -m pytest tests/test_rag_module.py::TestChunking -v

# ะขะตััั ัะผะฑะตะดะดะธะฝะณะพะฒ (ััะตะฑััั OPENAI_API_KEY)
export OPENAI_API_KEY=sk-...
python -m pytest tests/test_rag_module.py::TestEmbeddings -v

# ะะฝัะตะณัะฐัะธะพะฝะฝัะต ัะตััั (ััะตะฑััั PostgreSQL)
export DATABASE_URL='postgresql://postgres:password@localhost:5432/zakupki_rag'
python -m pytest tests/test_rag_module.py::TestRAGIntegration -v
```

### ะัะพะฒะตัะบะฐ ััะฐัััะฐ ัะธััะตะผั

```bash
# ะงะตัะตะท UI: ะบะฝะพะฟะบะฐ "ะกัะฐััั" ะฒ ัะตะบัะธะธ RAG

# ะะปะธ ัะตัะตะท API:
curl http://localhost:8081/ai_rag/status
```

**ะะถะธะดะฐะตะผัะน ะพัะฒะตั:**
```json
{
  "success": true,
  "rag_enabled": true,
  "database_available": true,
  "database_stats": {
    "documents": 5,
    "chunks": 234
  },
  "api_key_configured": true,
  "embeddings_model": "text-embedding-3-small"
}
```

## Troubleshooting

### ะัะพะฑะปะตะผะฐ: ะะฐะทะฐ ะดะฐะฝะฝัั ะฝะตะดะพัััะฟะฝะฐ

**ะกะธะผะฟัะพะผั:**
- ะะฝะพะฟะบะฐ "ะกัะฐััั" ะฟะพะบะฐะทัะฒะฐะตั "โ ะะ"
- API ะฒะพะทะฒัะฐัะฐะตั 503

**ะะตัะตะฝะธะต:**
1. ะัะพะฒะตัััะต, ััะพ PostgreSQL ะทะฐะฟััะตะฝ: `pg_isready`
2. ะัะพะฒะตัััะต `DATABASE_URL` ะฒ `.env`
3. ะะฐะฟัััะธัะต `python scripts/init_rag_db.py`

### ะัะพะฑะปะตะผะฐ: ะะฐััะธัะตะฝะธะต pgvector ะฝะต ัััะฐะฝะพะฒะปะตะฝะพ

**ะกะธะผะฟัะพะผั:**
- ะัะธะฑะบะฐ `extension "vector" does not exist`

**ะะตัะตะฝะธะต Ubuntu/Debian:**
```bash
sudo apt-get install postgresql-16-pgvector
psql -U postgres -d zakupki_rag -c "CREATE EXTENSION vector;"
```

**ะะตัะตะฝะธะต macOS:**
```bash
brew install pgvector
psql -d zakupki_rag -c "CREATE EXTENSION vector;"
```

### ะัะพะฑะปะตะผะฐ: API ะบะปัั ะฝะต ะฝะฐัััะพะตะฝ

**ะกะธะผะฟัะพะผั:**
- ะะฝะพะฟะบะฐ "ะกัะฐััั" ะฟะพะบะฐะทัะฒะฐะตั "โ API"
- ะัะธะฑะบะฐ ะฟัะธ ะธะฝะดะตะบัะฐัะธะธ/ะฐะฝะฐะปะธะทะต

**ะะตัะตะฝะธะต:**
1. ะะพะปััะธัะต API ะบะปัั ะฝะฐ https://platform.openai.com/api-keys
2. ะะพะฑะฐะฒััะต ะฒ `.env`: `OPENAI_API_KEY=sk-...`
3. ะะตัะตะทะฐะฟัััะธัะต ะฟัะธะปะพะถะตะฝะธะต

### ะัะพะฑะปะตะผะฐ: ะะพะปะณะฐั ะธะฝะดะตะบัะฐัะธั

**ะัะธัะธะฝั:**
- ะะพะปััะธะต ัะฐะนะปั
- ะะตะดะปะตะฝะฝะพะต ะฟะพะดะบะปััะตะฝะธะต ะบ OpenAI API

**ะะตัะตะฝะธะต:**
- ะะฝะดะตะบัะธััะนัะต ัะฐะนะปั ะฝะตะฑะพะปััะธะผะธ ะฑะฐััะฐะผะธ
- ะัะพะฒะตัััะต ัะบะพัะพััั ะธะฝัะตัะฝะตัะฐ
- ะะฐััะผะพััะธัะต ะธัะฟะพะปัะทะพะฒะฐะฝะธะต ะปะพะบะฐะปัะฝะพะน ะผะพะดะตะปะธ ัะผะฑะตะดะดะธะฝะณะพะฒ (ะดะปั ะฑัะดััะธั ะฒะตััะธะน)

## ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั

| ะะฟะตัะฐัะธั | ะัะตะผั | ะัะธะผะตัะฐะฝะธะต |
|----------|-------|------------|
| ะะฝะดะตะบัะฐัะธั 1 PDF (10 ัััะฐะฝะธั) | 10-15 ัะตะบ | ะะฐะฒะธัะธั ะพั ัะฐะทะผะตัะฐ |
| ะะฝะดะตะบัะฐัะธั 1 DOCX (50 ัััะฐะฝะธั) | 30-45 ัะตะบ | ะะพะปััะต ัะตะบััะฐ = ะดะพะปััะต |
| ะะตะบัะพัะฝัะน ะฟะพะธัะบ | 1-2 ัะตะบ | ะัะตะฝั ะฑััััะพ |
| RAG-ะฐะฝะฐะปะธะท (Top-K=5) | 10-20 ัะตะบ | ะะฐะฒะธัะธั ะพั ะผะพะดะตะปะธ |
| RAG-ะฐะฝะฐะปะธะท (Top-K=10) | 15-30 ัะตะบ | ะะพะปััะต ะบะพะฝัะตะบััะฐ |

## ะกัะพะธะผะพััั

**ะัะธะผะตัะฐะฝะธะต:** ะฆะตะฝั OpenAI ัะตะณัะปััะฝะพ ะผะตะฝััััั. ะัะพะฒะตััะนัะต ะฐะบััะฐะปัะฝัะต ัะตะฝั ะฝะฐ https://openai.com/pricing

ะัะธะผะตัะฝะฐั ััะพะธะผะพััั ะดะปั **gpt-4o-mini** (ะดะปั ัะฟัะฐะฒะบะธ):
- ะญะผะฑะตะดะดะธะฝะณะธ: ~$0.00002 / 1K ัะพะบะตะฝะพะฒ (~$0.02 ะทะฐ 1000 ัััะฐะฝะธั)
- ะะตะฝะตัะฐัะธั: ~$0.15 / 1M ะฒัะพะดะฝัั, ~$0.60 / 1M ะฒััะพะดะฝัั ัะพะบะตะฝะพะฒ
- ะขะธะฟะธัะฝัะน ะทะฐะฟัะพั (Top-K=5): ~15K ะฒัะพะดะฝัั + 600 ะฒััะพะดะฝัั = ~$0.002-0.005

**ะกะพะฒะตั:** ะัะฟะพะปัะทัะนัะต ัััะฝะพะน ะฒะฒะพะด ัะตะฝ ะฒ UI ะดะปั ัะพัะฝะพะณะพ ัะฐััััะฐ ะฐะบััะฐะปัะฝัั ะทะฐััะฐั.

## ะะณัะฐะฝะธัะตะฝะธั

1. **ะะฐะทะผะตั ะบะพะฝัะตะบััะฐ**: ะทะฐะฒะธัะธั ะพั ะผะพะดะตะปะธ (128K ะดะปั gpt-4o-mini)
2. **ะฏะทัะบ ะดะพะบัะผะตะฝัะพะฒ**: ััััะบะธะน ะธ ะฐะฝะณะปะธะนัะบะธะน (ะพัะฝะพะฒะฝะพะน ัะพะบัั)
3. **ะคะพัะผะฐัั**: PDF, DOCX, XLSX, TXT, HTML, CSV, TSV, XML, JSON
4. **PostgreSQL**: ััะตะฑัะตััั ะฒะตััะธั 12+ ั pgvector

## ะะพะฟะพะปะฝะธัะตะปัะฝัะต ะผะฐัะตัะธะฐะปั

- [ะะพะบัะผะตะฝัะฐัะธั ะฟัะธัะฐัะตะฝะธั 005](../increments_doc/005_increment_2025-10-25.md)
- [ะะพะฝัะธะณััะฐัะธั ะผะพะดะตะปะตะน](../index/models.json)
- [ะขะตััั](../tests/test_rag_module.py)
- [ะกะบัะธะฟั ะธะฝะธัะธะฐะปะธะทะฐัะธะธ ะะ](../scripts/init_rag_db.py)

## ะะพะดะดะตัะถะบะฐ

ะัะธ ะฒะพะทะฝะธะบะฝะพะฒะตะฝะธะธ ะฟัะพะฑะปะตะผ:
1. ะัะพะฒะตัััะต ะปะพะณะธ: `logs/app.log`
2. ะัะพะฒะตัััะต ััะฐััั: ะบะฝะพะฟะบะฐ "ะกัะฐััั" ะฒ UI
3. ะกะพะทะดะฐะนัะต issue ะฒ ัะตะฟะพะทะธัะพัะธะธ ั ะพะฟะธัะฐะฝะธะตะผ ะฟัะพะฑะปะตะผั ะธ ะปะพะณะฐะผะธ
