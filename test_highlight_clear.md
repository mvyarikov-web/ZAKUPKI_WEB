# –¢–µ—Å—Ç –æ—á–∏—Å—Ç–∫–∏ —Ñ–∞–Ω—Ç–æ–º–Ω–æ–π –ø–æ–¥—Å–≤–µ—Ç–∫–∏

## –ü—Ä–æ–±–ª–µ–º–∞
–ñ—ë–ª—Ç–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ (highlights) –æ—Å—Ç–∞—ë—Ç—Å—è –≤ —Å–Ω–∏–ø–ø–µ—Ç–∞—Ö –ø–æ—Å–ª–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –ø–æ–∏—Å–∫–∞, –¥–∞–∂–µ –∫–æ–≥–¥–∞ –ø–æ–∏—Å–∫–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –ø—É—Å—Ç–∞.

## –†–µ—à–µ–Ω–∏–µ
–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `clearHighlights()` –∫–æ—Ç–æ—Ä–∞—è —É–¥–∞–ª—è–µ—Ç –≤—Å–µ `<span class="highlight">` –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç.

## –¢–æ—á–∫–∏ –≤—ã–∑–æ–≤–∞ –æ—á–∏—Å—Ç–∫–∏

1. **–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** (`DOMContentLoaded`):
   - –ü–æ—Å–ª–µ `updateFilesList()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `clearHighlights()` –µ—Å–ª–∏ `searchInput` –ø—É—Å—Ç
   - –≠—Ç–æ —É–±–∏—Ä–∞–µ—Ç –ø–æ–¥—Å–≤–µ—Ç–∫—É –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–µ—Å—Å–∏–π

2. **–ü—Ä–∏ –æ—á–∏—Å—Ç–∫–µ –ø–æ–∏—Å–∫–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞** (`refreshSearchResultsIfActive`):
   - –ö–æ–≥–¥–∞ `terms` –ø—É—Å—Ç–æ–π, –∫—Ä–æ–º–µ —Å–∫—Ä—ã—Ç–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `clearHighlights()`
   - –≠—Ç–æ —É–±–∏—Ä–∞–µ—Ç –ø–æ–¥—Å–≤–µ—Ç–∫—É –ø—Ä–∏ —Ä—É—á–Ω–æ–π –æ—á–∏—Å—Ç–∫–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ–∏—Å–∫–∞

3. **–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤**:
   - –ö–æ—Å–≤–µ–Ω–Ω–æ —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤ –≤ `DOMContentLoaded` –ø–æ—Å–ª–µ `updateFilesList()`

## –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

### ‚úÖ –î–æ –ø–æ–∏—Å–∫–∞:
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ë–ï–ó –∂—ë–ª—Ç–æ–π –ø–æ–¥—Å–≤–µ—Ç–∫–∏
- –§–∞–π–ª—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å –æ–±—ã—á–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º –≤ —Å–Ω–∏–ø–ø–µ—Ç–∞—Ö

### ‚úÖ –í–æ –≤—Ä–µ–º—è –ø–æ–∏—Å–∫–∞:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —Ç–µ—Ä–º–∏–Ω "–¥–æ–≥–æ–≤–æ—Ä"
- –ù–∞–∂–∏–º–∞–µ—Ç "–ü–æ–∏—Å–∫"
- –°–Ω–∏–ø–ø–µ—Ç—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è —Å –∂—ë–ª—Ç–æ–π –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –Ω–∞ —Å–ª–æ–≤–µ "–¥–æ–≥–æ–≤–æ—Ä"

### ‚úÖ –ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—á–∏—â–∞–µ—Ç –ø–æ–∏—Å–∫–æ–≤—É—é —Å—Ç—Ä–æ–∫—É
- –ñ—ë–ª—Ç–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –∏—Å—á–µ–∑–∞–µ—Ç
- –°–Ω–∏–ø–ø–µ—Ç—ã –æ—Å—Ç–∞—é—Ç—Å—è, –Ω–æ –±–µ–∑ –ø–æ–¥—Å–≤–µ—Ç–∫–∏ (–∏–ª–∏ —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ FR-003)

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§—É–Ω–∫—Ü–∏—è `clearHighlights()`
```javascript
function clearHighlights() {
    // –£–¥–∞–ª—è–µ–º –≤—Å–µ <span class="highlight"> –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç
    const snippets = document.querySelectorAll('.context-snippet');
    snippets.forEach(sn => {
        // –ù–∞—Ö–æ–¥–∏–º –≤—Å–µ .highlight –≤–Ω—É—Ç—Ä–∏ snippet –∏ –∑–∞–º–µ–Ω—è–µ–º –∏—Ö —Å–æ–¥–µ—Ä–∂–∏–º—ã–º
        const highlights = sn.querySelectorAll('.highlight');
        highlights.forEach(hl => {
            const textNode = document.createTextNode(hl.textContent);
            hl.parentNode.replaceChild(textNode, hl);
        });
        // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –Ω–æ–¥—ã –¥–ª—è —á–∏—Å—Ç–æ—Ç—ã
        sn.normalize();
    });
}
```

### –ê–ª–≥–æ—Ä–∏—Ç–º:
1. –ù–∞—Ö–æ–¥–∏–º –≤—Å–µ `.context-snippet` —ç–ª–µ–º–µ–Ω—Ç—ã
2. –í–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–≥–æ –Ω–∞—Ö–æ–¥–∏–º –≤—Å–µ `.highlight` —Å–ø–∞–Ω—ã
3. –ó–∞–º–µ–Ω—è–µ–º –∫–∞–∂–¥—ã–π —Å–ø–∞–Ω –Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤—É—é –Ω–æ–¥—É —Å –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º—ã–º
4. –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º DOM –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Å–æ—Å–µ–¥–Ω–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –Ω–æ–¥

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã
- `static/js/script.js`:
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `clearHighlights()` (–ø–æ—Å–ª–µ `highlightSnippets`)
  - –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω `refreshSearchResultsIfActive()` (–¥–æ–±–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ `clearHighlights`)
  - –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω `DOMContentLoaded` (–¥–æ–±–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ `clearHighlights` –ø–æ—Å–ª–µ `updateFilesList`)

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
1. –û—Ç–∫—Ä—ã—Ç—å http://127.0.0.1:8081
2. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –ù–ï–¢ –∂—ë–ª—Ç–æ–π –ø–æ–¥—Å–≤–µ—Ç–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
3. –í–≤–µ—Å—Ç–∏ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –∏ –Ω–∞–∂–∞—Ç—å "–ü–æ–∏—Å–∫"
4. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –ø–æ—è–≤–∏–ª–∞—Å—å
5. –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç—Ä–æ–∫—É –ø–æ–∏—Å–∫–∞
6. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –∏—Å—á–µ–∑–ª–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –¥–æ –ø–æ–∏—Å–∫–∞:
document.querySelectorAll('.highlight').length
// –û–∂–∏–¥–∞–µ–º–æ: 0

// –ü–æ—Å–ª–µ –ø–æ–∏—Å–∫–∞:
document.querySelectorAll('.highlight').length
// –û–∂–∏–¥–∞–µ–º–æ: > 0

// –ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏:
document.querySelectorAll('.highlight').length
// –û–∂–∏–¥–∞–µ–º–æ: 0
```

## –°—Ç–∞—Ç—É—Å
‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
‚è≥ –¢—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
üîÑ –ì–æ—Ç–æ–≤–æ –∫ –∫–æ–º–º–∏—Ç—É
